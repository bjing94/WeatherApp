(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{63:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(15),r=n.n(i),s=(n(63),n(38)),j=n(23),d=n(36),o=n.n(d),h=n(42),l=n(43),m=n(44),b=function(){function e(){Object(l.a)(this,e),this._apiKey="6d7f2956ed528a6da4a0b8b400e8bf4b"}return Object(m.a)(e,[{key:"handleErrors",value:function(e){if(!e.ok)throw new Error(e.status);return e}},{key:"_transformWeather",value:function(e){var t=new Date,n=t.getTime()-6e4*t.getTimezoneOffset(),c=new Date(n+e.timezone);return{name:e.name,temperature:Math.round(10*(e.main.temp-273.15))/10,temperatureMax:Math.round(10*(e.main.temp_max-273.15))/10,temperatureMin:Math.round(10*(e.main.temp_min-273.15))/10,wind:e.wind.speed,humidity:e.main.humidity,date:c,errorOccured:!1,description:e.weather[0].description}}},{key:"getWeather",value:function(){var e=Object(h.a)(o.a.mark((function e(t){var n,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(this._apiKey)).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw new Error(e.statusText)})).then((function(e){return c._transformWeather(e)})).catch((function(e){return{name:"City ".concat(t," doesn't exist"),temperature:12,temperatureMax:12,temperatureMin:12,wind:12,humidity:12,date:new Date,errorOccured:!0,description:"Error"}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),u=n(89),x=n(90),O=n(91),p=n(73),f=n(92),g=n(108),y=n(2);function v(e){var t=e.toggleDarkMode;return Object(y.jsx)("div",{children:Object(y.jsx)(u.a,{color:"default",children:Object(y.jsx)(x.a,{children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{children:"Weather APP"})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(f.a,{control:Object(y.jsx)(g.a,{onClick:t}),label:"Night mode",color:"secondary"})})]})})})})}var w=n(94),C=n(106),k=n(93),M=n(98),I=n(95),N=n(96),z=n(97),B=Object(w.a)((function(e){return{cardRoot:{width:"fit-content"},topBox:{width:"26rem",height:"16rem",backgroundColor:e.palette.primary.main,color:e.palette.common.white},bottomBox:{width:"26rem",height:"10rem"},bottomGrid:{height:"100%"},icon:{color:e.palette.common.white}}}));function S(e){var t=e.name,n=e.temperature,c=e.humidity,i=e.wind,r=(e.date,e.updateCity),s=e.deleteCity,j=e.errorOccured,d=e.description,o=e.temperatureMin,h=e.temperatureMax,l=B(),m=Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(C.a,{className:l.topBox,padding:2,children:Object(y.jsx)(O.a,{container:!0,direction:"column",children:Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(O.a,{container:!0,direction:"column",spacing:1,children:Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"space-between",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h2",children:"City not found!"})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(C.a,{alignItems:"center",children:Object(y.jsx)(k.a,{size:"medium",onClick:function(){s(t)},children:Object(y.jsx)(I.a,{className:l.icon})})})})]})})})})})}),Object(y.jsx)(C.a,{className:l.bottomBox,padding:2})]}),b=Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(C.a,{className:l.topBox,padding:2,children:Object(y.jsxs)(O.a,{container:!0,direction:"column",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,direction:"column",spacing:1,children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"space-between",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h2",children:t})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(C.a,{alignItems:"center",children:[Object(y.jsx)(k.a,{size:"medium",onClick:function(){r(t)},children:Object(y.jsx)(N.a,{className:l.icon})}),Object(y.jsx)(k.a,{size:"medium",onClick:function(){s(t)},children:Object(y.jsx)(I.a,{className:l.icon})})]})})]})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h4",children:d})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(C.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(y.jsx)(z.a,{}),Object(y.jsx)(C.a,{marginLeft:"1.1rem",children:Object(y.jsxs)(p.a,{variant:"h4",children:[i," m/sec"]})})]})})]})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(C.a,{marginTop:"4rem",children:Object(y.jsxs)(p.a,{variant:"h1",children:[n,"\xb0\u0421"]})})})]})}),Object(y.jsx)(C.a,{className:l.bottomBox,padding:2,children:Object(y.jsxs)(O.a,{container:!0,alignContent:"center",justifyContent:"space-between",className:l.bottomGrid,children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h3",children:"Min"})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(p.a,{variant:"h3",children:[o,"\xb0C"]})})]})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h3",children:"Max"})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(p.a,{variant:"h3",children:[h,"\xb0C"]})})]})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(O.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:[Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(p.a,{variant:"h3",children:"Humidity"})}),Object(y.jsx)(O.a,{item:!0,children:Object(y.jsxs)(p.a,{variant:"h3",children:[c,"%"]})})]})})]})})]});return Object(y.jsx)(M.a,{className:l.cardRoot,children:j?m:b})}var D=n(102),T=n(103),E=n(99),R=n(107),W=n(100),_=n(101),F=Object(w.a)({cardRoot:{width:"18rem",height:"26rem"},addButton:{width:"8rem",height:"8rem"},addIcon:{width:"4rem",height:"4rem"},cardContent:{height:"100%"}});function A(e){var t=e.addCity,n=F(),i=Object(c.useState)(!1),r=Object(j.a)(i,2),s=r[0],d=r[1],o=Object(c.useRef)();return Object(y.jsx)(M.a,{className:n.cardRoot,children:Object(y.jsx)(E.a,{children:Object(y.jsxs)(C.a,{display:"flex",justifyContent:"space-between",alignItems:"center",style:{height:"100%",width:"100%"},flexDirection:"column",children:[s&&Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(R.a,{inputRef:o,type:"text",placeholder:"Enter city name"}),Object(y.jsx)(C.a,{marginTop:2,children:Object(y.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){d(!1),t(o.current.value)},children:"Add"})})]}),!s&&Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(C.a,{marginTop:"4rem",children:Object(y.jsx)(k.a,{className:n.addButton,onClick:function(){d(!0)},children:Object(y.jsx)(_.a,{className:n.addIcon})})}),Object(y.jsx)(C.a,{marginTop:"4rem",children:Object(y.jsx)(p.a,{variant:"h5",children:"Add city"})})]})]})})})}function G(e){var t=e.addCity,n=e.deleteCity,c=e.cities,a=e.updateCity,i=c.map((function(e){return Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(S,{name:e.name,temperature:e.temperature,temperatureMin:e.temperatureMin,temperatureMax:e.temperatureMax,date:e.date,updateCity:a,deleteCity:n,errorOccured:e.errorOccured,description:e.description,humidity:e.humidity,wind:e.wind})})})),r=Object(D.a)(),s=Object(T.a)(r.breakpoints.up("md"));return Object(y.jsxs)(C.a,{m:2,children:[Object(y.jsx)(x.a,{}),s&&Object(y.jsxs)(O.a,{container:!0,spacing:2,children:[i,Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(A,{addCity:t})})]}),!s&&Object(y.jsxs)(O.a,{container:!0,spacing:2,direction:"column",justifyContent:"center",alignItems:"center",children:[i,Object(y.jsx)(O.a,{item:!0,children:Object(y.jsx)(A,{addCity:t})})]})]})}var J=n(49),K=n(104),P=n(105);var q=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],i=new b,r=Object(c.useState)([]),d=Object(j.a)(r,2),o=d[0],h=d[1],l=Object(J.a)({palette:{type:n?"dark":"light"},typography:{h1:{fontSize:"4rem"},h2:{fontSize:"2.5rem"},h3:{fontSize:"1.75rem"},h4:{fontSize:"1rem"}}});return Object(y.jsx)("div",{children:Object(y.jsxs)(K.a,{theme:l,children:[Object(y.jsx)(P.a,{}),Object(y.jsx)(v,{toggleDarkMode:function(){a(!n)}}),Object(y.jsx)(G,{addCity:function(e){i.getWeather(e).then((function(e){var t=[].concat(Object(s.a)(o),[e]);h(t)}))},deleteCity:function(e){var t=o.filter((function(t){return t.name!==e}));h(t)},cities:o,updateCity:function(e){var t=o.findIndex((function(t){return t.name===e}));i.getWeather(e).then((function(e){var n=Object(s.a)(o);n[t]=e,h(n)}))}})]})})};r.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.4e68c391.chunk.js.map